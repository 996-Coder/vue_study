<html>

<head>
    <meta charset="utf-8">
    <title>hello vue</title>
    <script src="vue.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>
    <div id="app">
        {{ a }}
    </div>

    <script type="text/javascript">
    var data = {a : 1 }
    var vm = new Vue({
        el: '#app',
        // 将Vue实例的data与15行的data对象绑定
        data: data
    });
    // 通过对象data来修改a的值， 这里的data是用户定义的 var data
    // data.a = 2
    // 通过Vue实例vm来修改a的值
    vm.a = 3
    // 使用$前缀，可以将用户定义的对象与Vue实例的对象区分开来
    // 这里的$data,是Vue实例vm的属性data
    vm.$data.a = 4
    console.log( vm.$data == data)  // trur
    console.log( vm.$el == document.getElementById('app'))  // true
    console.log( data.a === vm.a )  // true
    </script>
    <p>==================================================================</p>
    <!-- $watch 是一个实例方法，他可以检测到变量值的改变 -->
    <div id="test">
        {{ b }}
    </div>
    <script type="text/javascript">
    var vm = new Vue({
        el: '#test',
        data: {b : 1}
    })
    vm.$watch('b', function(newVal, oldVal){
        // 这个回调函数将会在vm.$data.b的值改变后调用
        console.log(newVal, oldVal) // 2, 1
    })
    vm.$data.b = 2
    </script>
</body>


</html>